{"version":3,"sources":["components/DisplayContactList.js","components/Filter.js","components/PersonForm.js","components/Notification.js","services/phonebook.js","App.js","index.js"],"names":["DisplayContact","person","handleDelete","name","number","onClick","id","DisplayContactList","persons","filter","filtered","toLowerCase","includes","map","Filter","handleFilter","value","onChange","PersonForm","addPerson","newName","handleNewName","newNumber","handleNewNumber","onSubmit","type","Notification","successMessage","errorMessage","className","baseUrl","services","getAll","axios","get","then","response","data","create","newObject","post","remove","delete","update","updatedPerson","put","App","useState","setPersons","setNewName","setNewNumber","setFilter","setSuccessMessage","setErrorMessage","useEffect","phoneService","initialPersons","updateNumber","personToUpdate","catch","e","target","preventDefault","find","confirmMessage","window","confirm","personObject","concat","alert","setTimeout","contactToDelete","newList","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b22eb920.chunk.js","sourcesContent":["import React from 'react'\n\nconst DisplayContactList = ({ persons, filter, handleDelete }) => {\n  const filtered = persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n\n  return (\n    <div>\n      {filtered.map(person =>\n        <div key={person.name}>\n          <DisplayContact person={person} handleDelete={handleDelete} />\n        </div>\n      )}\n    </div>\n  )\n}\n\nconst DisplayContact = ({ person, handleDelete }) => {\n  return (\n    <>\n      {person.name} {person.number}\n      <button onClick={() => handleDelete(person.id)}>delete</button>\n    </>\n  )\n}\n\nexport default DisplayContactList\n","import React from 'react'\n\nconst Filter = ({ filter, handleFilter }) => {\n  return (\n    <div>\n      filter by name\n      <input value={filter} onChange={handleFilter} />\n    </div>\n  )\n}\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = ({ addPerson, newName, handleNewName, newNumber, handleNewNumber }) => {\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input\n          value={newName}\n          onChange={handleNewName}\n              />\n      </div>\n      <div>\n        number: <input\n          value={newNumber}\n          onChange={handleNewNumber}\n                />\n      </div>\n      <div>\n        <button type='submit'>add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst Notification = ({ successMessage, errorMessage }) => {\n  if (successMessage === null && errorMessage === null) {\n    return null\n  }\n\n  return (\n    <div className={(successMessage) ? 'successMessage' : 'errorMessage'}>\n      {successMessage || errorMessage}\n    </div>\n  )\n}\n\nexport default Notification\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst update = (updatedPerson) => {\n  const request = axios.put(`${baseUrl}/${updatedPerson.id}`, updatedPerson)\n  return request.then(response => response.data)\n}\n\nconst services = { getAll, create, remove, update }\nexport default services\n","import React, { useState, useEffect } from 'react'\nimport DisplayContactList from './components/DisplayContactList'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\nimport phoneService from './services/phonebook'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [successMessage, setSuccessMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    phoneService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const handleNewName = (e) => {\n    setNewName(e.target.value)\n  }\n\n  const handleNewNumber = (e) => {\n    setNewNumber(e.target.value)\n  }\n\n  const handleFilter = (e) => {\n    setFilter(e.target.value)\n  }\n\n  const handleDelete = (id) => {\n    const contactToDelete = persons.find(person => person.id === id).name\n    if (window.confirm(`Are you sure you want to delete ${contactToDelete}?`)) {\n      const newList = persons.filter(person => person.id !== id)\n      phoneService\n        .remove(id)\n        .then(() => setPersons(newList)\n        )\n      setSuccessMessage(`${contactToDelete} was deleted from notebook`)\n      setTimeout(() => {\n        setSuccessMessage(null)\n      }, 3000)\n    }\n  }\n\n  const addPerson = (e) => {\n    e.preventDefault()\n    if (newName && newNumber) {\n      const personToUpdate = persons.find(person => person.name === newName)\n      const confirmMessage = `${newName} is already added to phonebook,\n      replace the old number with a new one?`\n\n      if (personToUpdate && window.confirm(confirmMessage)) {\n        updateNumber(personToUpdate, newNumber)\n      } else if (!personToUpdate) {\n        const personObject = {\n          name: newName,\n          number: newNumber\n        }\n        phoneService\n          .create(personObject)\n          .then(response => {\n            setPersons(persons.concat(response))\n          })\n        setSuccessMessage(`${newName} was added to phonebook`)\n      }\n    } else {\n      window.alert('Please fill both fields.')\n    }\n    setNewName('')\n    setNewNumber('')\n    setTimeout(() => {\n      setSuccessMessage(null)\n      setErrorMessage(null)\n    }, 3000)\n  }\n\n  const updateNumber = (personToUpdate, newNumber) => {\n    const updatedPerson = { ...personToUpdate, number: newNumber }\n    phoneService\n      .update(updatedPerson)\n      .then(response => {\n        setSuccessMessage(`${newName} number was updated`)\n        setPersons(persons.map(person => person.id !== response.id\n          ? person\n          : response))\n      })\n      .catch(() => {\n        setErrorMessage(`${personToUpdate.name} was already deleted from phonebook`)\n        setPersons(persons.filter(person =>\n          person.id !== personToUpdate.id))\n      })\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter filter={filter} handleFilter={handleFilter} />\n      <h2>Add new contact</h2>\n      <Notification {...{ successMessage, errorMessage }} />\n      <PersonForm {...{ addPerson, newName, handleNewName, newNumber, handleNewNumber }} />\n      <h2>Numbers</h2>\n      <DisplayContactList\n        persons={persons}\n        filter={filter}\n        handleDelete={handleDelete}\n      />\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}